<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Mentoria NasdaqPro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
  --bg-main: radial-gradient(circle at top,#2a3f6e 0%,#1b2b4f 35%,#0b1220 75%,#050812 100%);
  --card-bg: linear-gradient(180deg,#0f1b34,#070d1c);
  --card-border: rgba(255,255,255,.06);
  --text-main:#f8fafc;
  --text-muted:#9aa4b2;
  --blue:#5b8efc;
  --green:#4ade80;
  --red:#f87171;
  --yellow:#facc15;
}

*{box-sizing:border-box;font-family:Inter,system-ui}
body{margin:0;background:var(--bg-main);color:var(--text-main)}
.container{max-width:1600px;margin:auto;padding:34px}

.header{display:flex;align-items:center;gap:18px;margin-bottom:30px}
.logo{width:62px;height:62px;background:#fff;color:#0b1220;font-size:34px;font-weight:900;
display:flex;align-items:center;justify-content:center;border-radius:16px}

.filters{display:grid;grid-template-columns:repeat(4,240px);gap:16px;margin-bottom:26px}
select,input[type=file]{
background:linear-gradient(180deg,#0f1b34,#070d1c);
border:1px solid var(--card-border);color:white;padding:12px 16px;border-radius:14px}

.kpis{display:grid;grid-template-columns:repeat(6,1fr);gap:18px;margin-bottom:32px}
.kpi{background:var(--card-bg);border:1px solid var(--card-border);
border-radius:20px;padding:18px}
.kpi span{font-size:13px;color:var(--text-muted)}
.kpi strong{display:block;margin-top:8px;font-size:28px;font-weight:600}

.cards{display:grid;grid-template-columns:1fr 1fr;gap:22px;margin-bottom:34px}
.card{background:var(--card-bg);border:1px solid var(--card-border);
border-radius:22px;padding:20px;height:380px}

table{width:100%;border-collapse:collapse;background:white;color:#0b1220;border-radius:14px;overflow:hidden}
thead{background:#f3f4f6}
th,td{padding:12px;border-bottom:1px solid #e5e7eb;font-size:14px}
</style>
</head>

<body>
<div class="container">

<div class="header">
  <div class="logo">N</div>
  <div>
    <h1>Mentoria NasdaqPro</h1>
    <span style="color:#7aa2ff;letter-spacing:3px;font-size:13px">DASHBOARD</span>
  </div>
</div>

<div class="filters">
  <input type="file" id="csvFile" accept=".csv">
  <select><option>Filtro Ano</option></select>
  <select><option>Filtro MÃªs</option></select>
  <select><option>Filtro Semana</option></select>
</div>

<div class="kpis">
  <div class="kpi"><span>TRADES</span><strong id="kTrades">0</strong></div>
  <div class="kpi"><span>PONTOS</span><strong id="kPontos" style="color:var(--blue)">0</strong></div>
  <div class="kpi"><span>GAINS</span><strong id="kGains" style="color:var(--green)">0</strong></div>
  <div class="kpi"><span>STOPS</span><strong id="kStops" style="color:var(--red)">0</strong></div>
  <div class="kpi"><span>0x0</span><strong id="kZero" style="color:var(--yellow)">0</strong></div>
  <div class="kpi"><span>ASSERTIVIDADE</span><strong id="kAssert" style="color:var(--green)">0%</strong></div>
</div>

<div class="cards">
  <div class="card">
    <strong>ðŸ“ˆ BalanÃ§o de Pontos</strong>
    <canvas id="line"></canvas>
  </div>
  <div class="card">
    <strong>ðŸ“Š Gains x Stops x 0x0</strong>
    <canvas id="bar"></canvas>
  </div>
</div>

<table>
<thead>
<tr><th>Dia</th><th>Pontos</th><th>Trades</th><th>Gain</th><th>Stop</th><th>Ativo</th><th>Semana</th></tr>
</thead>
<tbody id="tableBody"></tbody>
</table>

</div>

<script>
let lineChart, barChart;

document.getElementById('csvFile').addEventListener('change', e=>{
  const file = e.target.files[0];
  const reader = new FileReader();
  reader.onload = evt => processCSV(evt.target.result);
  reader.readAsText(file);
});

function processCSV(csv){
  const rows = csv.trim().split('\n').map(r=>r.split(','));
  const headers = rows.shift().map(h=>h.trim());
  const data = rows.map(r=>{
    let obj={};
    r.forEach((v,i)=>obj[headers[i]]=v.trim());
    return obj;
  });

  let pontos=[], labels=[];
  let trades=0, gains=0, stops=0, zero=0;

  document.getElementById('tableBody').innerHTML='';
  data.forEach(d=>{
    pontos.push(+d.pontos);
    labels.push(d.dia);
    trades += +d.trades;
    gains += +d.gain;
    stops += +d.stop;
    zero += (+d.trades - (+d.gain + +d.stop));
    document.getElementById('tableBody').innerHTML +=
      `<tr><td>${d.dia}</td><td>${d.pontos}</td><td>${d.trades}</td>
       <td>${d.gain}</td><td>${d.stop}</td><td>${d.ativo}</td><td>${d.semana}</td></tr>`;
  });

  document.getElementById('kTrades').innerText = trades;
  document.getElementById('kPontos').innerText = pontos.reduce((a,b)=>a+b,0);
  document.getElementById('kGains').innerText = gains;
  document.getElementById('kStops').innerText = stops;
  document.getElementById('kZero').innerText = zero;
  document.getElementById('kAssert').innerText =
    Math.round((gains/(gains+stops))*100)+'%';

  if(lineChart) lineChart.destroy();
  if(barChart) barChart.destroy();

  lineChart = new Chart(line,{
    type:'line',
    data:{labels,datasets:[{
      data:pontos,
      borderColor:'#4ade80',
      backgroundColor:'rgba(74,222,128,.18)',
      tension:.4,
      fill:true
    }]},
    options:{plugins:{legend:{display:false}}}
  });

  barChart = new Chart(bar,{
    type:'bar',
    data:{
      labels:['Gain','Stop','0x0'],
      datasets:[{
        data:[gains,stops,zero],
        backgroundColor:['#5b8efc','#4ade80','#f87171'],
        borderRadius:8
      }]
    },
    options:{plugins:{legend:{display:false}}}
  });
}
</script>

</body>
</html>
